"use client";

import { userDataContext } from "@/app/contexts/userData";
import { useContext, useState } from "react";
import "../../global.css"
import styles from "./profile.module.css"

import { VideosComponent, ProgressPhotosComponent, FavouriteVideosComponent, LikedPhotosComponent } from '../../components/index'

export default function profilePage() {

    const { userData } = useContext(userDataContext)
    const [ selector, setSelector ] = useState(0)

    return (
        <div className="mainWrapper">
            <div className={styles.mainContainer}>
                <div className={styles.profileHeaderContainer}>
                    <div className={styles.profilePhotoContainer}><img src={ userData.pfp ?? "/male_default.svg" } width={"100%"} height={"100%"}></img></div>
                    <div className={styles.profileInfoContainer}>
                        <div className={styles.profileInfoRow}>
                            <p className={styles.usernameText}>{userData.username}</p>
                            { userData.priacy?
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5.5 8.15H15.25V5.75C15.25 4.84716 14.9344 4.07983 14.303 3.448C13.6717 2.816 12.905 2.5 12.003 2.5C11.101 2.5 10.3333 2.816 9.7 3.448C9.06665 4.07983 8.75 4.84716 8.75 5.75H7.25C7.25 4.43333 7.7134 3.3125 8.64025 2.3875C9.5669 1.4625 10.6878 1 12.0028 1C13.3176 1 14.4375 1.46316 15.3625 2.3895C16.2875 3.31566 16.75 4.43584 16.75 5.75V8.15H18.5C18.9125 8.15 19.2656 8.29685 19.5595 8.5905C19.8531 8.88435 20 9.2375 20 9.65V20.5C20 20.9125 19.8531 21.2656 19.5595 21.5592C19.2656 21.8531 18.9125 22 18.5 22H5.5C5.0875 22 4.73442 21.8531 4.44075 21.5592C4.14692 21.2656 4 20.9125 4 20.5V9.65C4 9.2375 4.14692 8.88435 4.44075 8.5905C4.73442 8.29685 5.0875 8.15 5.5 8.15ZM12.0042 17C12.5347 17 12.9875 16.8164 13.3625 16.4492C13.7375 16.0821 13.925 15.6406 13.925 15.125C13.925 14.625 13.7361 14.1708 13.3582 13.7625C12.9804 13.3541 12.5263 13.15 11.9958 13.15C11.4653 13.15 11.0125 13.3541 10.6375 13.7625C10.2625 14.1708 10.075 14.6291 10.075 15.1375C10.075 15.6458 10.2639 16.0834 10.6418 16.45C11.0196 16.8167 11.4737 17 12.0042 17Z"/>
                            </svg>
                            :
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V10C17.7956 10 18.5587 10.3161 19.1213 10.8787C19.6839 11.4413 20 12.2044 20 13V19C20 19.7956 19.6839 20.5587 19.1213 21.1213C18.5587 21.6839 17.7956 22 17 22H7C6.20435 22 5.44129 21.6839 4.87868 21.1213C4.31607 20.5587 4 19.7956 4 19V13C4 12.2044 4.31607 11.4413 4.87868 10.8787C5.44129 10.3161 6.20435 10 7 10V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2ZM12 14C11.4954 13.9998 11.0094 14.1904 10.6395 14.5335C10.2695 14.8766 10.0428 15.3468 10.005 15.85L10 16C10 16.3956 10.1173 16.7822 10.3371 17.1111C10.5568 17.44 10.8692 17.6964 11.2346 17.8478C11.6001 17.9991 12.0022 18.0387 12.3902 17.9616C12.7781 17.8844 13.1345 17.6939 13.4142 17.4142C13.6939 17.1345 13.8844 16.7781 13.9616 16.3902C14.0387 16.0022 13.9991 15.6001 13.8478 15.2346C13.6964 14.8692 13.44 14.5568 13.1111 14.3371C12.7822 14.1173 12.3956 14 12 14ZM12 4C11.2044 4 10.4413 4.31607 9.87868 4.87868C9.31607 5.44129 9 6.20435 9 7V10H15V7C15 6.20435 14.6839 5.44129 14.1213 4.87868C13.5587 4.31607 12.7956 4 12 4Z"/>
                            </svg>
                            }
                            <p className={styles.nameText}>{userData.name}</p>
                        </div>
                        <div className={styles.profileInfoRow}>
                            <button className={styles.editProfileButton}>Edit Profile</button>
                            <button className={styles.auxillaryButtons}>
                                <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">
                                    <g clipPath="url(#clip0_59_683)">
                                    <path d="M15.1877 9.42755V9.00005V8.56692L16.2677 7.62192C16.4668 7.44645 16.5974 7.20625 16.6365 6.94377C16.6757 6.68129 16.6207 6.41344 16.4815 6.18755L15.154 3.93755C15.0553 3.76669 14.9135 3.62478 14.7427 3.52606C14.5719 3.42733 14.3781 3.37525 14.1808 3.37505C14.0586 3.37411 13.937 3.39311 13.8208 3.4313L12.454 3.89255C12.218 3.73572 11.9718 3.59479 11.7171 3.47067L11.4302 2.05317C11.3788 1.7942 11.2379 1.56157 11.0322 1.396C10.8265 1.23044 10.5692 1.14249 10.3052 1.14755H7.6727C7.40872 1.14249 7.15137 1.23044 6.9457 1.396C6.74003 1.56157 6.59914 1.7942 6.5477 2.05317L6.26083 3.47067C6.00429 3.59476 5.75625 3.73569 5.51833 3.89255L4.17958 3.4088C4.06218 3.37821 3.94061 3.36681 3.81958 3.37505C3.6223 3.37525 3.42853 3.42733 3.25773 3.52606C3.08693 3.62478 2.94509 3.76669 2.84645 3.93755L1.51895 6.18755C1.38766 6.4131 1.33887 6.67729 1.38094 6.93486C1.42302 7.19244 1.55333 7.42737 1.74958 7.59942L2.8127 8.57255V9.00005V9.43317L1.74958 10.3782C1.54779 10.5514 1.41391 10.7906 1.37169 11.0531C1.32947 11.3157 1.38164 11.5848 1.51895 11.8125L2.84645 14.0625C2.94509 14.2334 3.08693 14.3753 3.25773 14.474C3.42853 14.5728 3.6223 14.6248 3.81958 14.625C3.94184 14.626 4.06343 14.607 4.17958 14.5688L5.54645 14.1075C5.78244 14.2644 6.02861 14.4053 6.28333 14.5294L6.5702 15.9469C6.62164 16.2059 6.76253 16.4385 6.9682 16.6041C7.17387 16.7697 7.43122 16.8576 7.6952 16.8525H10.3502C10.6142 16.8576 10.8715 16.7697 11.0772 16.6041C11.2829 16.4385 11.4238 16.2059 11.4752 15.9469L11.7621 14.5294C12.0186 14.4053 12.2667 14.2644 12.5046 14.1075L13.8658 14.5688C13.982 14.607 14.1036 14.626 14.2258 14.625C14.4231 14.6248 14.6169 14.5728 14.7877 14.474C14.9585 14.3753 15.1003 14.2334 15.199 14.0625L16.4815 11.8125C16.6127 11.587 16.6615 11.3228 16.6195 11.0652C16.5774 10.8077 16.4471 10.5727 16.2508 10.4007L15.1877 9.42755ZM14.1808 13.5L12.2515 12.8475C11.7998 13.2301 11.2836 13.5292 10.7271 13.7307L10.3277 15.75H7.6727L7.27333 13.7532C6.72119 13.5459 6.20779 13.2474 5.75458 12.87L3.81958 13.5L2.49208 11.25L4.02208 9.90005C3.91807 9.31778 3.91807 8.72169 4.02208 8.13942L2.49208 6.75005L3.81958 4.50005L5.74895 5.15255C6.2006 4.76998 6.71679 4.47094 7.27333 4.26942L7.6727 2.25005H10.3277L10.7271 4.24692C11.2792 4.45416 11.7926 4.75269 12.2458 5.13005L14.1808 4.50005L15.5083 6.75005L13.9783 8.10005C14.0823 8.68231 14.0823 9.2784 13.9783 9.86067L15.5083 11.25L14.1808 13.5Z"/>
                                    <path d="M9 12.375C8.33249 12.375 7.67997 12.1771 7.12495 11.8062C6.56994 11.4354 6.13735 10.9083 5.88191 10.2916C5.62646 9.67486 5.55963 8.99626 5.68985 8.34157C5.82008 7.68689 6.14151 7.08552 6.61352 6.61352C7.08552 6.14151 7.68689 5.82008 8.34157 5.68985C8.99626 5.55963 9.67486 5.62646 10.2916 5.88191C10.9083 6.13735 11.4354 6.56994 11.8062 7.12495C12.1771 7.67997 12.375 8.33249 12.375 9C12.3795 9.44447 12.2953 9.88537 12.1273 10.2969C11.9593 10.7084 11.7108 11.0822 11.3965 11.3965C11.0822 11.7108 10.7084 11.9593 10.2969 12.1273C9.88537 12.2953 9.44447 12.3795 9 12.375ZM9 6.75C8.70263 6.74307 8.40695 6.79654 8.13084 6.90716C7.85472 7.01778 7.60391 7.18326 7.39359 7.39359C7.18326 7.60391 7.01778 7.85472 6.90716 8.13084C6.79654 8.40695 6.74307 8.70263 6.75 9C6.74307 9.29737 6.79654 9.59305 6.90716 9.86917C7.01778 10.1453 7.18326 10.3961 7.39359 10.6064C7.60391 10.8167 7.85472 10.9822 8.13084 11.0928C8.40695 11.2035 8.70263 11.2569 9 11.25C9.29737 11.2569 9.59305 11.2035 9.86917 11.0928C10.1453 10.9822 10.3961 10.8167 10.6064 10.6064C10.8167 10.3961 10.9822 10.1453 11.0928 9.86917C11.2035 9.59305 11.2569 9.29737 11.25 9C11.2569 8.70263 11.2035 8.40695 11.0928 8.13084C10.9822 7.85472 10.8167 7.60391 10.6064 7.39359C10.3961 7.18326 10.1453 7.01778 9.86917 6.90716C9.59305 6.79654 9.29737 6.74307 9 6.75Z"/>
                                    </g>
                                    <defs>
                                    <clipPath id="clip0_59_683">
                                    <rect width="18" height="18"/>
                                    </clipPath>
                                    </defs>
                                </svg>
                            </button>
                            <button className={styles.auxillaryButtons}>
                                <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9.59375 1.08752C9.23438 1.24689 9 1.60627 9 2.00002V4.00002H5.5C2.4625 4.00002 0 6.46252 0 9.50002C0 13.0406 2.54688 14.6219 3.13125 14.9406C3.20937 14.9844 3.29688 15 3.38438 15C3.725 15 4 14.7219 4 14.3844C4 14.15 3.86562 13.9344 3.69375 13.775C3.4 13.4969 3 12.95 3 12C3 10.3438 4.34375 9.00002 6 9.00002H9V11C9 11.3938 9.23125 11.7531 9.59375 11.9125C9.95625 12.0719 10.375 12.0063 10.6687 11.7438L15.6687 7.24377C15.8781 7.05314 16 6.78439 16 6.50002C16 6.21564 15.8812 5.94689 15.6687 5.75627L10.6687 1.25627C10.375 0.990644 9.95312 0.925019 9.59375 1.08752Z"/>
                                </svg>
                            </button>
                        </div>
                        <div className={styles.profileInfoRow}>
                            <p className={styles.profileStatsContainer}><span className={styles.profileStatsText}>{userData.following}</span>Following</p>
                            <p className={styles.profileStatsContainer}><span className={styles.profileStatsText}>{userData.followers}</span>Followers</p>
                            <p className={styles.profileStatsContainer}><span className={styles.profileStatsText}>{userData.likes}</span>Likes</p>
                        </div>
                        <div className={styles.profileInfoRow}>
                            <p className={styles.bioText}> {userData.bio ?? "No Bio Yet"}</p>
                        </div>
                    </div>
                </div>
                <ul className={styles.selectorsList}>
                    <li onClick={()=>{setSelector(0)}} className={selector == 0? styles.activeSelector : ''}>
                        <svg width="30" height="30" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1.3335 2.66667C1.3335 2.29848 1.63198 2 2.00016 2H14.0002C14.3684 2 14.6668 2.29848 14.6668 2.66667V13.3333C14.6668 13.7015 14.3684 14 14.0002 14H2.00016C1.63198 14 1.3335 13.7015 1.3335 13.3333V2.66667ZM2.66683 3.33333V12.6667H13.3335V3.33333H2.66683ZM4.00016 4.66667H7.3335V7.33333H4.00016V4.66667ZM7.3335 8.66667H4.00016V11.3333H7.3335V8.66667ZM8.66683 4.66667H12.0002V7.33333H8.66683V4.66667ZM12.0002 8.66667H8.66683V11.3333H12.0002V8.66667Z"/>
                        </svg>
                        <p>Videos</p>
                    </li>
                    <li onClick={()=>{setSelector(1)}} className={selector == 1? styles.activeSelector : ''}>
                        <svg className={styles.armSVG} width="30" height="30" viewBox="0 0 19 19" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4.66064 8.07501C5.20536 9.61288 6.04487 11.0297 7.13213 12.2461" strokeWidth="1.1875" strokeMiterlimit="10"/>
                            <path d="M1.84795 3.94843C1.76179 4.1581 1.71645 4.38229 1.71436 4.60897V8.06014C1.71436 10.8953 3.83701 17.2707 5.96709 17.2707C10.0491 17.2707 13.0179 13.6043 14.3761 11.5484C15.0423 11.4351 15.6622 11.1334 16.1625 10.679C16.6628 10.2246 17.0225 9.63651 17.1993 8.9842C17.376 8.33189 17.3624 7.64263 17.1599 6.99783C16.9574 6.35304 16.5747 5.77967 16.0568 5.34547C15.5389 4.91126 14.9075 4.63436 14.2373 4.54749C13.5671 4.46061 12.886 4.56739 12.2745 4.85521C11.6631 5.14303 11.1467 5.59986 10.7866 6.17173C10.4264 6.74359 10.2375 7.4066 10.2421 8.08241C9.46646 8.46405 8.74102 8.94019 8.08232 9.49999C7.74372 9.86783 7.48459 10.3015 7.32114 10.774C7.15768 11.2465 7.09341 11.7476 7.13232 12.2461C7.15125 12.7492 7.23354 13.2479 7.37725 13.7305" strokeWidth="1.1875" strokeMiterlimit="10"/>
                            <path d="M1.70703 4.89844C1.70703 5.74485 2.04327 6.5566 2.64177 7.1551C3.24028 7.75361 4.05202 8.08984 4.89844 8.08984C5.74485 8.08984 6.5566 7.75361 7.1551 7.1551C7.75361 6.5566 8.08984 5.74485 8.08984 4.89844C8.08984 4.05202 7.75361 3.24028 7.1551 2.64177C6.5566 2.04327 5.74485 1.70703 4.89844 1.70703C4.05202 1.70703 3.24028 2.04327 2.64177 2.64177C2.04327 3.24028 1.70703 4.05202 1.70703 4.89844Z" strokeWidth="1.1875" strokeMiterlimit="10"/>
                            <path d="M4.54248 4.89843C4.54248 4.99291 4.58001 5.08352 4.64682 5.15033C4.71363 5.21714 4.80425 5.25468 4.89873 5.25468C4.99321 5.25468 5.08383 5.21714 5.15064 5.15033C5.21745 5.08352 5.25498 4.99291 5.25498 4.89843C5.25498 4.80394 5.21745 4.71333 5.15064 4.64652C5.08383 4.57971 4.99321 4.54218 4.89873 4.54218C4.80425 4.54218 4.71363 4.57971 4.64682 4.64652C4.58001 4.71333 4.54248 4.80394 4.54248 4.89843Z" strokeWidth="1.1875" strokeMiterlimit="10"/>
                        </svg>
                        <p>Progress Photos</p>
                    </li>
                    <li onClick={()=>{setSelector(2)}} className={selector == 2? styles.activeSelector : ''}>
                        <svg width="30" height="30" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg">
                            <path fillRule="evenodd" clipRule="evenodd" d="M6.9982 0C6.79977 0 6.60548 0.056768 6.43827 0.163603C6.27319 0.269073 6.1413 0.418991 6.05772 0.596046L4.47016 3.80114C4.46704 3.80744 4.46405 3.8138 4.4612 3.82023C4.46049 3.82182 4.45937 3.8232 4.45796 3.82423C4.45655 3.82526 4.4549 3.82592 4.45316 3.82611C4.44707 3.82678 4.44099 3.82756 4.43493 3.82846L0.939348 4.34632C0.746144 4.36511 0.561904 4.43762 0.407589 4.55582C0.247917 4.67813 0.127135 4.84411 0.0598753 5.03366C-0.00738488 5.22321 -0.018238 5.4282 0.0286311 5.6238C0.0753187 5.81863 0.177287 5.99582 0.322253 6.13407L2.88103 8.60288L2.88686 8.60842C2.89051 8.61184 2.89326 8.61611 2.89484 8.62086C2.89642 8.6256 2.89679 8.63067 2.89591 8.63559L2.89535 8.63885L2.28561 12.2072C2.25211 12.4006 2.27332 12.6004 2.34713 12.7822C2.42104 12.9644 2.5446 13.1221 2.70373 13.2375C2.86287 13.3528 3.05119 13.4212 3.24727 13.4348C3.44296 13.4484 3.63854 13.4069 3.81184 13.3151L3.81289 13.3145L6.96237 11.65C6.97366 11.6451 6.98587 11.6425 6.99822 11.6425C7.01057 11.6425 7.02277 11.6451 7.03407 11.65L10.1835 13.3145C10.3569 13.4066 10.5533 13.4485 10.7491 13.4348C10.9452 13.4212 11.1335 13.3528 11.2927 13.2375C11.4518 13.1221 11.5754 12.9644 11.6493 12.7822C11.7231 12.6004 11.7444 12.4016 11.711 12.2083L11.7108 12.2072L11.1011 8.63885L11.1005 8.63559C11.0996 8.63067 11.1 8.6256 11.1016 8.62086C11.1031 8.61612 11.1059 8.61184 11.1095 8.60842L11.1154 8.60288L13.6742 6.13404C13.8191 5.99579 13.9211 5.81862 13.9678 5.6238C14.0146 5.4282 14.0038 5.22321 13.9365 5.03366C13.8693 4.84411 13.7485 4.67813 13.5888 4.55582C13.4345 4.43762 13.2503 4.36511 13.0571 4.34632L9.56148 3.82846C9.55542 3.82756 9.54934 3.82678 9.54325 3.82611C9.54151 3.82592 9.53985 3.82526 9.53844 3.82423C9.53703 3.8232 9.53592 3.82182 9.53521 3.82023C9.53236 3.8138 9.52937 3.80744 9.52625 3.80114L7.93868 0.596032C7.8551 0.418983 7.72321 0.26907 7.55814 0.163603C7.39092 0.056768 7.19663 0 6.9982 0Z"/>
                        </svg>
                        <p>Favourites</p>
                    </li>
                    <li onClick={()=>{setSelector(3)}} className={selector == 3? styles.activeSelector : ''}>
                        <svg width="30" height="30" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg">
                            <path fillRule="evenodd" clipRule="evenodd" d="M0 0H10.57V2.24313H2.33687V10.5688H0V0ZM3.27437 3.18063H13.8431V13.75H3.275V3.18125L3.27437 3.18063ZM8.145 6.61812L8.68188 7.155L9.21875 6.6175C9.3598 6.47645 9.52725 6.36457 9.71153 6.28823C9.89582 6.2119 10.0933 6.17261 10.2928 6.17261C10.4923 6.17261 10.6898 6.2119 10.8741 6.28823C11.0584 6.36457 11.2258 6.47645 11.3669 6.6175C11.5079 6.75855 11.6198 6.926 11.6961 7.11028C11.7725 7.29457 11.8118 7.49209 11.8118 7.69156C11.8118 7.89103 11.7725 8.08855 11.6961 8.27284C11.6198 8.45713 11.5079 8.62458 11.3669 8.76562L8.68188 11.4506L5.99688 8.76562C5.71202 8.48077 5.55198 8.09441 5.55198 7.69156C5.55198 7.28871 5.71202 6.90236 5.99688 6.6175C6.28173 6.33264 6.66809 6.17261 7.07094 6.17261C7.47379 6.17261 7.86014 6.33327 8.145 6.61812Z"/>
                        </svg>
                        <p>Liked</p>
                    </li>
                    <div className={selector == 0? styles.firstPosition: selector == 1? styles.secondPosition: selector == 2? styles.thirdPosition: styles.fourthPosition}></div>
                </ul>
                <div className={styles.selectedContentContainer}>
                    {selector == 0? 

                     <VideosComponent/>
                    
                    : 
                    
                    selector == 1? 
                    
                    <ProgressPhotosComponent/>
                    
                    : 
                    
                    selector == 2? 
                    
                    <FavouriteVideosComponent/> 
                    
                    : 
                    
                    <LikedPhotosComponent/>
                    }
                </div>
            </div>
        </div>
    )
}